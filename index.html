<!DOCTYPE html>
<html>
<head>
	<title>Patrick's Weather and Whatnot</title>
	<script type="text/javascript">
		var timeDiv;

		document.addEventListener("DOMContentLoaded", function(event) {
			timeDiv = document.getElementById('time');

			updateTime()
			window.setInterval(updateTime, 500);
		});

		function updateTime(){
			var d = new Date();
			var dateStr = formatTime(d)
			if (timeDiv.innerHTML != dateStr) {
				timeDiv.innerHTML = dateStr;
			};
		}

		function formatTime(d) {
			var year    = d.getFullYear();
			var month   = d.getMonth()+1;
			var day     = d.getDate();
			var hour    = d.getHours();
			var minute  = d.getMinutes();
			var second  = d.getSeconds();
			if(month.toString().length == 1) {
				var month = '0'+month;
			}
			if(day.toString().length == 1) {
				var day = '0'+day;
			}
			if(hour.toString().length == 1) {
				var hour = '0'+hour;
			}
			if(minute.toString().length == 1) {
				var minute = '0'+minute;
			}
			if(second.toString().length == 1) {
				var second = '0'+second;
			}
			var time = hour+':'+minute+':'+second;

			return time
		}
	</script>
</head>
<body>
	<div id="time"></div>
	<div id="weather"></div>
</body>
</html>